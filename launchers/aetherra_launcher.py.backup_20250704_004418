#!/usr/bin/env python3
# SPDX-License-Identifier: GPL-3.0-or-later
"""
Aetherra Project - Main Launcher
=================================

Unified launcher for the newly organized and modularized Aetherra project.
Provides easy access to all major components.
"""

import os
import sys
from pathlib import Path

# Add src to Python path
project_root = Path(__file__).parent
src_path = project_root / "src"
sys.path.insert(0, str(src_path))


def print_banner():
    """Print Aetherra banner."""
    print("ğŸ§¬" + "=" * 60 + "ğŸ§¬")
    print("ğŸš€ Aetherra Project - AI-Native Programming Language ğŸš€")
    print("ğŸ“¦ Version 2.1.0 - Modular Architecture")
    print("ğŸ§¬" + "=" * 60 + "ğŸ§¬")
    print()


def print_menu():
    """Print main menu options."""
    print("ğŸ¯ Available Options:")
    print("  1. ğŸ§¬  Launch Lyrixa (AI-Native Development Environment)")
    print("  2. ğŸ®  Launch Aetherra Playground")
    print("  3. ğŸ§ª  Verify Components")
    print("  4. ğŸ“Š  Show Project Structure")
    print("  5. ğŸ”§  Run CLI Interface")
    print("  6. â“  Help & Documentation")
    print("  0. ğŸšª  Exit")
    print()


def show_project_structure():
    """Show the new project structure."""
    print("ğŸ“ Aetherra Project Structure:")
    print("â”œâ”€â”€ src/aetherra/           # Core package")
    print("â”‚   â”œâ”€â”€ core/                # Core engine")
    print("â”‚   â”‚   â”œâ”€â”€ parser/          # Parser subsystem")
    print("â”‚   â”‚   â”œâ”€â”€ ast/             # AST components")
    print("â”‚   â”‚   â”œâ”€â”€ interpreter/     # Interpreter subsystem")
    print("â”‚   â”‚   â”œâ”€â”€ memory/          # Memory systems")
    print("â”‚   â”‚   â”œâ”€â”€ ai/              # AI integration")
    print("â”‚   â”‚   â””â”€â”€ utils/           # Core utilities")
    print("â”‚   â”œâ”€â”€ ui/                  # Modular UI components")
    print("â”‚   â”œâ”€â”€ plugins/             # Plugin system")
    print("â”‚   â”œâ”€â”€ stdlib/              # Standard library")
    print("â”‚   â””â”€â”€ cli/                 # CLI interface")
    print("â”œâ”€â”€ launchers/               # Application launchers")
    print("â”œâ”€â”€ scripts/                 # Development scripts")
    print("â”œâ”€â”€ tests/                   # Test suite")
    print("â”œâ”€â”€ examples/                # Example programs")
    print("â”œâ”€â”€ docs/                    # Documentation")
    print("â”œâ”€â”€ data/                    # Data files")
    print("â””â”€â”€ archive/                 # Legacy files")
    print()


def main():
    """Main launcher function."""
    print_banner()

    while True:
        print_menu()
        choice = input("ğŸ¯ Choose an option (0-6): ").strip()

        try:
            if choice == "0":
                print("ğŸ‘‹ Goodbye! Thank you for using Aetherra!")
                break

            elif choice == "1":
                print("ğŸš€ Launching Lyrixa...")
                print("ğŸ’¡ Features:")
                print("   â€¢ Integrated AI chat assistant")
                print("   â€¢ Modern dark mode interface")
                print("   â€¢ Unified development environment")
                print("   â€¢ AI-native programming workflow")
                input("\nğŸ“ Press Enter to continue...")
                try:
                    os.system(f'python "{project_root}/launchers/launch_lyrixa.py"')
                except Exception as e:
                    print(f"âŒ Error launching Lyrixa: {e}")

            elif choice == "2":
                print("ğŸ® Launching Aetherra Playground...")
                try:
                    os.system(f'python "{project_root}/launchers/launch_playground.py"')
                except Exception as e:
                    print(f"âŒ Error launching playground: {e}")

            elif choice == "3":
                print("ğŸ§ª Verifying Modular Components...")
                try:
                    os.system(
                        f'python "{project_root}/scripts/tools/verify_modular_components.py"'
                    )
                except Exception as e:
                    print(f"âŒ Error running verification: {e}")

            elif choice == "4":
                show_project_structure()

            elif choice == "5":
                print("ğŸ”§ Launching CLI Interface...")
                try:
                    from aetherra.cli.main import main as cli_main

                    cli_main()
                except Exception as e:
                    print(f"âŒ Error launching CLI: {e}")

            elif choice == "6":
                print("ğŸ“š Aetherra Documentation:")
                print("  â€¢ Architecture: docs/MODULAR_ARCHITECTURE.md")
                print("  â€¢ Installation: docs/guides/INSTALLATION.md")
                print("  â€¢ Tutorial: docs/guides/TUTORIAL.md")
                print("  â€¢ API Docs: docs/api/")
                print("  â€¢ Language Spec: docs/AETHERRA_LANGUAGE_SPEC.md")
                print()

            else:
                print("âŒ Invalid choice. Please enter 0-6.")

        except KeyboardInterrupt:
            print("\nğŸ‘‹ Goodbye!")
            break
        except Exception as e:
            print(f"âŒ Unexpected error: {e}")

        input("\nğŸ“ Press Enter to continue...")
        print("\n" + "=" * 70 + "\n")


if __name__ == "__main__":
    main()


if __name__ == "__main__":
    sys.exit(main())
